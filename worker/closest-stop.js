function t(t){return t*Math.PI/180}const e="latitude",n="longitude";function r(t){if(t instanceof o)return new o(t[e],t[n]);if("lat"in t&&"lng"in t)return"function"==typeof t.lat&&"function"==typeof t.lng?new o(t.lat(),t.lng()):new o(parseFloat(t.lat),parseFloat(t.lng));if("lat"in t&&"long"in t)return new o(parseFloat(t.lat),parseFloat(t.long));if("lat"in t&&"lon"in t)return new o(parseFloat(t.lat),parseFloat(t.lon));if("latitude"in t&&"longitude"in t)return new o(parseFloat(t.latitude),parseFloat(t.longitude));if("number"==typeof t[0]&&"number"==typeof t[1])return new o(t[1],t[0]);if("x"in t&&"y"in t)return new o(parseFloat(t.y),parseFloat(t.x));throw new TypeError(`Cannot convert ${t} to LatLng`)}class o{constructor(t,r,o=!1){if(t=parseFloat(t),r=parseFloat(r),Number.isNaN(t)||Number.isNaN(r))throw TypeError("lat or lng are not numbers");o||(t=Math.min(Math.max(t,-90),90),r=180==r?r:((r+180)%360+360)%360-180),Object.defineProperty(this,e,{value:t}),Object.defineProperty(this,n,{value:r}),this.length=2,Object.freeze(this)}equals(t){return a=t,o=r(o=this),a=r(a),Math.abs(o[e]-a[e])<Number.EPSILON&&Math.abs(o[n]-a[n])<Number.EPSILON;var o,a}lat(){return this[e]}lng(){return this[n]}get x(){return this[n]}get y(){return this[e]}get 0(){return this[n]}get 1(){return this[e]}get long(){return this[n]}get lon(){return this[n]}toJSON(){return{lat:this[e],lng:this[n]}}toString(){return`(${this[e]}, ${this[n]})`}toUrlValue(t=6){return t=parseInt(t),parseFloat(this[e].toFixed(t))+","+parseFloat(this[n].toFixed(t))}[Symbol.iterator](){let t=0;return{next:()=>t<this.length?{value:this[t++],done:!1}:{done:!0},[Symbol.iterator](){return this}}}}function a(e,n,o=6378137){return function(e,n){const r=t(e.lat()),o=t(e.lng()),a=t(n.lat()),s=t(n.lng());return 2*Math.asin(Math.sqrt(Math.pow(Math.sin((r-a)/2),2)+Math.cos(r)*Math.cos(a)*Math.pow(Math.sin((o-s)/2),2)))}(e=r(e),n=r(n))*o}let s;!function(t){function e(t,e,n){e?(console.error("Worker caught an error:",e),self.postMessage([t,e])):self.postMessage([t,null,n])}self.addEventListener("message",(function(n){const r=n.data;if(!Array.isArray(r)||2!==r.length)return;const[o,a]=r;Promise.resolve(t(a)).then((t=>e(o,null,t)),(t=>e(o,t)))}))}((t=>t.stops?void(s=t.stops):function(t){if(!s)throw new Error("stops not ready");let e,n=Number.MAX_VALUE;for(const r of s){const o=a(t,r.position);o<n&&(e=r,n=o)}return e}(t)));
//# sourceMappingURL=closest-stop.js.map
