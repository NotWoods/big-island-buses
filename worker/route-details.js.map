{"version":3,"file":"route-details.js","sources":["../../src/page/utils/num.ts","../../src/page/utils/date.ts","../../src/worker/register.ts","../../src/worker/route-details-worker.ts"],"sourcesContent":[null,null,null,null],"names":["toInt","n","Number","parseInt","gtfsArrivalToDate","string","hour","min","second","split","map","s","extraDays","extraHours","Math","floor","Date","callback","postOutgoingMessage","messageId","error","result","console","self","postMessage","addEventListener","e","payload","data","Array","isArray","length","message","Promise","resolve","then","registerPromiseWorker","trips","now","firstStop","lastStop","earliestTrip","earliestTripStop","closestTrip","closestTripStop","smallestSequence","Infinity","largestSequence","earliest","latest","closestTripTime","MAX_VALUE","routeStops","Set","trip","stopTime","stop_times","sequence","stop_sequence","direction_id","stop_id","add","timeDate","arrival_time","trip_id","getTime","getHours","getMinutes","getSeconds","stops","id","minutes","stop","getRouteDetails","nowDateTime"],"mappings":"AAAO,MAAMA,EAASC,GAAuBC,OAAOC,SAASF,EAAa,aCsD1DG,EAAkBC,GAChC,MAAOC,EAAMC,EAAKC,GAAUH,EAAOI,MAAM,KAAKC,KAAKC,GAAMX,EAAMW,KAC/D,IAAIC,EAAY,EACZC,EAAa,EAKjB,OAJIP,EAAO,KACTM,EAAYE,KAAKC,MAAMT,EAAO,IAC9BO,EAAaP,EAAO,IAEf,IAAIU,KAAK,EAAG,EAAG,EAAIJ,EAAWN,EAAOO,EAAYN,EAAKC,EAAQ,aC7DrES,GAEA,SAASC,EACPC,EACAC,EACAC,GAEID,GACFE,QAAQF,MAAM,0BAA2BA,GACzCG,KAAKC,YAAY,CAACL,EAAWC,KAE7BG,KAAKC,YAAY,CAACL,EAAW,KAAME,IAIvCE,KAAKE,iBAAiB,WAAW,SAA2BC,GAC1D,MAAMC,EAAUD,EAAEE,KAClB,IAAKC,MAAMC,QAAQH,IAA+B,IAAnBA,EAAQI,OAErC,OAGF,MAAOZ,EAAWa,GAAWL,EAE7BM,QAAQC,QAAQjB,EAASe,IAAUG,MAChCd,GAAWH,EAAoBC,EAAW,KAAME,KAChDD,GAAUF,EAAoBC,EAAWC,QC+EhDgB,EAAuBC,GAnFvB,SAAyBA,EAAwBC,GAC/C,IAAIC,EACAC,EAOAC,EACAC,EACAC,EAEAC,EAVAC,EAAmBC,EAAAA,EACnBC,GAAmB,EAEnBC,EAAW,IAAIhC,KAAK,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GACzCiC,EAAS,IAAIjC,KAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAKpCkC,EAAkBhD,OAAOiD,UAG7B,MAAMC,EAAa,IAAIC,IAEvB,IAAK,MAAMC,KAAQjB,EAAO,CACxB,IAAK,MAAMkB,KAAYD,EAAKE,WAAY,CACtC,MAAMC,EAAWF,EAASG,cACO,IAA7B1D,EAAMsD,EAAKK,gBACTF,EAAWZ,IACbN,EAAYgB,EAASK,QACrBf,EAAmBY,GAEjBA,EAAWV,IACbP,EAAWe,EAASK,QACpBb,EAAkBU,IAItBL,EAAWS,IAAIN,EAASK,SAExB,MAAME,EAAW1D,EAAkBmD,EAASQ,cACxCD,EAAWb,IACbA,EAASa,GAEPA,EAAWd,IACbA,EAAWc,EACXrB,EAAea,EAAKU,QACpBtB,EAAmBa,EAASK,SAI5BE,EAASG,UAAY3B,EAAI2B,UAAYf,GACrCY,EAASG,UAAY3B,EAAI2B,UAAY,IAErCf,EAAkBY,EAASG,UAAY3B,EAAI2B,UAC3CtB,EAAcW,EAAKU,QACnBpB,EAAkBW,EAASK,SAG1BjB,IAEHO,EACE,IAAIlC,KACF,EACA,EACA,EACAgC,EAASkB,WACTlB,EAASmB,aACTnB,EAASoB,aACT,GACAH,UAAY3B,EAAI2B,UACpBtB,EAAcF,EACdG,EAAkBF,GAItB,MAAO,CACLH,UAAWA,EACXC,SAAUA,EACVQ,SAAAA,EACAC,OAAAA,EACAoB,MAAOjB,EACPT,YAAa,CACX2B,GAAI3B,EACJ4B,QAASzD,KAAKC,MAAMmC,EAAkB,KACtCsB,KAAM5B,IAMH6B,CAAgBpC,aF5BvB,MAAMC,EAAM,IAAItB,KAChB,OAAO,IAAIA,KACT,EACA,EACA,EACAsB,EAAI4B,WACJ5B,EAAI6B,aACJ7B,EAAI8B,aACJ,GEoB4BM"}